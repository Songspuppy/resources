//* This code is a property of songspuppy.com *//
//* created by Junaid khalid *//
//* date: 11/6/2017 *//


!function(e,t,a,i){var n="ontouchstart"in t,o=n?"touchstart":"mousedown",l=n?"touchmove":"mousemove",u=n?"touchcancel":"mouseup",s=function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.ceil(e%3600%60);return(0==t?"":t>0&&t.toString().length<2?"0"+t+":":t+":")+(a.toString().length<2?"0"+a:a)+":"+(i.toString().length<2?"0"+i:i)},d=function(e){var t=a.createElement("audio");return!(!t.canPlayType||!t.canPlayType("audio/"+e.split(".").pop().toLowerCase()+";").replace(/no/,""))};e.fn.audioPlayer=function(t){var t=e.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},t),a={},i={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini"};for(var r in i)a[r]=t.classPrefix+"-"+i[r];return this.each(function(){if("audio"!=e(this).prop("tagName").toLowerCase())return!1;var i=e(this),r=i.attr("src"),c=i.get(0).getAttribute("autoplay"),c=""===c||"autoplay"===c?!0:!1,v=i.get(0).getAttribute("loop"),v=""===v||"loop"===v?!0:!1,m=!1;"undefined"==typeof r?i.find("source").each(function(){return r=e(this).attr("src"),"undefined"!=typeof r&&d(r)?(m=!0,!1):void 0}):d(r)&&(m=!0);var h=e('<div class="'+t.classPrefix+'">'+(m?e("<div>").append(i.eq(0).clone()).html():'<embed src="'+r+'" width="0" height="0" volume="100" autostart="'+c.toString()+'" loop="'+v.toString()+'" />')+'<div class="'+a.playPause+'" title="'+t.strPlay+'"><a href="#">'+t.strPlay+"</a></div></div>"),f=m?h.find("audio"):h.find("embed"),f=f.get(0);if(m){h.find("audio").css({width:0,height:0,visibility:"hidden"}),h.append('<div class="'+a.time+" "+a.timeCurrent+'"></div><div class="'+a.bar+'"><div class="'+a.barLoaded+'"></div><div class="'+a.barPlayed+'"></div></div><div class="'+a.time+" "+a.timeDuration+'"></div><div class="'+a.volume+'"><div class="'+a.volumeButton+'" title="'+t.strVolume+'"><a href="#">'+t.strVolume+'</a></div><div class="'+a.volumeAdjust+'"><div><div></div></div></div></div>');var p=h.find("."+a.bar),y=h.find("."+a.barPlayed),g=h.find("."+a.barLoaded),C=h.find("."+a.timeCurrent),w=h.find("."+a.timeDuration),$=h.find("."+a.volumeButton),b=h.find("."+a.volumeAdjust+" > div"),P=0,S=function(e){theRealEvent=n?e.originalEvent.touches[0]:e,f.currentTime=Math.round(f.duration*(theRealEvent.pageX-p.offset().left)/p.width())},L=function(e){theRealEvent=n?e.originalEvent.touches[0]:e,f.volume=Math.abs((theRealEvent.pageY-(b.offset().top+b.height()))/b.height())},E=setInterval(function(){g.width(f.buffered.end(0)/f.duration*100+"%"),f.buffered.end(0)>=f.duration&&clearInterval(E)},100),k=f.volume,M=f.volume=.111;Math.round(1e3*f.volume)/1e3==M?f.volume=k:h.addClass(a.noVolume),w.html("&hellip;"),C.text(s(0)),f.addEventListener("loadedmetadata",function(){w.text(s(f.duration)),b.find("div").height(100*f.volume+"%"),P=f.volume}),f.addEventListener("timeupdate",function(){C.text(s(f.currentTime)),y.width(f.currentTime/f.duration*100+"%")}),f.addEventListener("volumechange",function(){b.find("div").height(100*f.volume+"%"),f.volume>0&&h.hasClass(a.mute)&&h.removeClass(a.mute),f.volume<=0&&!h.hasClass(a.mute)&&h.addClass(a.mute)}),f.addEventListener("ended",function(){h.removeClass(a.playing)}),p.on(o,function(e){S(e),p.on(l,function(e){S(e)})}).on(u,function(){p.unbind(l)}),$.on("click",function(){return h.hasClass(a.mute)?(h.removeClass(a.mute),f.volume=P):(h.addClass(a.mute),P=f.volume,f.volume=0),!1}),b.on(o,function(e){L(e),b.on(l,function(e){L(e)})}).on(u,function(){b.unbind(l)})}else h.addClass(a.mini);c&&h.addClass(a.playing),h.find("."+a.playPause).on("click",function(){return h.hasClass(a.playing)?(e(this).attr("title",t.strPlay).find("a").html(t.strPlay),h.removeClass(a.playing),e("div#music-play").removeClass("pause").removeClass("play").addClass("play"),m?f.pause():f.Stop()):(e(this).attr("title",t.strPause).find("a").html(t.strPause),h.addClass(a.playing),m?f.play():f.Play()),!1}),i.replaceWith(h)}),this}}(jQuery,window,document),$(function(){$(document).on("mouseenter","#showSortmenu",function(){$("div.dropDownMenu").show()}),$(document).on("mouseleave","#showSortmenu",function(){console.log("ready"),$("div.dropDownMenu").hide()}),$(document).on("click","#showNavList",function(){var e=$(this),t=e.parents("ul.navList").find("span.showNavList");"none"==t.css("display")?t.css("display","block"):t.css("display","none")}),$("audio").audioPlayer(),$("a#playCurrentSong").click(function(){$("a#playCurrentSong").not(this).removeClass("active");var e=$(this),t=e.attr("data-url"),a=$("#audioPlayer")[0],i=$("#audioSrc"),n=i.attr("src");n!=t&&(i.attr("src",t),a.load()),e.hasClass("active")?(e.removeClass("active"),a.pause(),$(".audioplayer").removeClass("audioplayer-playing")):(e.addClass("active"),a.play(),$(".audioplayer").addClass("audioplayer-playing"))}),$("div.audioplayer-playpause").click(function(){if($("a#playCurrentSong").removeClass("active"),$("div.audioplayer").hasClass("audioplayer-playing")){var e=$("#audioSrc"),t=e.attr("src");$("a[data-url='"+t+"']").addClass("active")}}),$("a#smoothHref").click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500),!1}),$("a#popUp").click(function(){return url=$(this).attr("data-link"),newwindow=window.open(url,"name","height=400,width=800"),window.focus&&newwindow.focus(),!1})});
